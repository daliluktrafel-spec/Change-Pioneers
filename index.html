<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ุฑูุงุฏ ุงูุชุบููุฑ</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700;900&display=swap');
body{
  margin:0;
  font-family:'Tajawal',sans-serif;
  text-align:center;
  background: linear-gradient(135deg,#007B83,#00BFA6,#0091EA);
  color:white;
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  min-height:100vh;
  padding:20px;
}
h1{font-size:50px;font-weight:900;margin-bottom:20px;text-shadow:0 4px 12px rgba(0,0,0,0.3);}
.container{background:rgba(255,255,255,0.15);backdrop-filter:blur(10px);padding:30px;border-radius:25px;box-shadow:0 8px 25px rgba(0,0,0,0.2);width:400px;margin-bottom:20px;}
input,select,button,textarea{width:100%;margin-top:10px;padding:10px;border-radius:10px;border:none;font-size:16px;text-align:center;}
button{background:#fff;color:#007B83;font-weight:700;cursor:pointer;transition:0.3s;}
button:hover{background:#00BFA6;color:#fff;transform:scale(1.05);}
.timer{font-weight:bold;margin-bottom:15px;}
.hidden{display:none;}
textarea{resize:none;}
#finalMsg{font-size:20px;font-weight:700;color:#FFD700;margin-bottom:20px;}
footer{margin-top:20px;font-size:12px;}
p{margin:8px 0;}
</style>
</head>
<body>

<!-- ููุฏูุฉ ุงูุชุฑุญูุจ ูู ุงููุณุท -->
<div class="container" id="welcomeBox">
  <h1>ุฃููุงู ูุณููุงู ุจูู ูู ูุณุงุจูุฉ ุฑูุงุฏ ุงูุชุบููุฑ</h1>
  <p>ูุฑุญุจ ุจูู ูุญู ุทูุงุจ ุงูุตู ุงูุณุงุจุน ูููุชูู ุจูู ูู ูุฐู ุงููุณุงุจูุฉ ูุฎูู ุฑูุญ ุงูุชูุงูุณ ูุงูุฅุจุฏุงุน ุจูู ุฌููุน ุฑูุงุฏ ูุฏุฑุณุชูุง ุงูุบุงููุฉ ุญุชู ูุฑูุน ุงูุงุณู ุนุงููุงู ูู ุณูุงุก ุงููุฌุฏ ... ูุญู ุฑูุงุฏ ูุฏุงุฑุณ ุงููุฌุฏ</p>
  <p>ุชุนุฑูู ุจุงููุณุงุจูุฉ :<br>
  โฑ๏ธ ุงูููุช: 40 ุซุงููุฉ ููุท<br>
  ๐ง ุนุฏุฏ ุงูุฃุณุฆูุฉ: 3 ุฃุณุฆูุฉ ุฎูููุฉ ููุณูููุฉ<br>
  ๐ ุงูุฌูุงุฆุฒ: ุงูุชูุท ุตูุฑุฉ ุงูุดุงุดุฉ ูุงุฑุณู ุนูู ุงูุฑูู ุงููุจูู ูู ูู ุงูุตูุญุฉ ูุชุฏุฎู ุงูุณุญุจ ุนูู ุฌูุงุฆุฒ ุฌูููุฉ ๐</p>
  <p>๐ฃ ุฌููุฒ ููุณูุ ูุงุจุฏุฃ ุงููุบุงูุฑุฉ ุงูุขู!<br>
  ูู ุฃูุช ูู ุงูุฃุฐููุงุก ุงูุฐูู ุณูุตููู ููููุงูุฉุ ๐ช</p>
  <button onclick="startFromWelcome()">ุงุจุฏุฃ ุงูุขู ๐</button>
</div>

<div class="container hidden" id="startBox">
  <label>ุงูุงุณู ุงูุฑุจุงุนู:</label>
  <input type="text" id="nameInput" placeholder="ุฃุฏุฎู ุงุณูู ุงูุฑุจุงุนู">
  <label>ุงูุตู:</label>
  <select id="gradeInput">
    <option value="">ุงุฎุชุฑ ุงูุตู</option>
    <option>ุงูุตู ุงูุฃูู</option>
    <option>ุงูุตู ุงูุซุงูู</option>
    <option>ุงูุตู ุงูุซุงูุซ</option>
    <option>ุงูุตู ุงูุฑุงุจุน</option>
    <option>ุงูุตู ุงูุฎุงูุณ</option>
    <option>ุงูุตู ุงูุณุงุฏุณ</option>
    <option>ุงูุตู ุงูุณุงุจุน</option>
    <option>ุงูุตู ุงูุซุงูู</option>
  </select>
  <button onclick="startQuiz()">ุงุจุฏุฃ</button>
  <p id="error" style="color:red;font-size:14px;display:none;">ุงูุฑุฌุงุก ุฅุฏุฎุงู ุงูุงุณู ุงูุฑุจุงุนู ูุงุฎุชูุงุฑ ุงูุตู.</p>
</div>

<div class="container hidden" id="quizBox">
  <div class="timer" id="timer">ุงูููุช ุงููุชุจูู: 40 ุซุงููุฉ</div>
  <div id="q1" class="question hidden">
    <label>ูุง ููุจ ุงูุดุงุนุฑ ุฃุญูุฏ ุดูููุ</label>
    <input type="text" id="a1">
    <button onclick="checkAnswer(1)">ุงูุชุงูู</button>
  </div>
  <div id="q2" class="question hidden">
    <label>ูุง ุงูุฏููุฉ ุงูุชู ุชุญุฏ ุงูููู ุดูุงููุงุ</label>
    <input type="text" id="a2">
    <button onclick="checkAnswer(2)">ุงูุชุงูู</button>
  </div>
  <div id="q3" class="question hidden">
    <label>ูุง ูู ุงูุณูุฑุฉ ุงูุชู ุชูุณูู ููุจ ุงููุฑุขูุ</label>
    <input type="text" id="a3">
    <button onclick="finishQuiz()">ุฅููุงุก</button>
  </div>
  <p id="msg" style="color:red;"></p>
</div>

<div id="finalMsg"></div>

<div class="container certificate hidden" id="certificate">
  <h2>ุชูุงูููุง! ููุฏ ุฃุชููุช ูุณุงุจูุฉ ุฑูุงุฏ ุงูุชุบููุฑ ุจูุฌุงุญ ๐</h2>
  <p id="certName"></p>
  <p id="certClass"></p>
  <p>ุฑูู ุงูุชูุงุตู: 774257557</p>
  <p id="certDate"></p>
</div>

<footer>ุงูุตู 7 | ุฅุนุฏุงุฏ: ุนูู ุญุณูู ุงูุณูุงู</footer>

<script>
let timerInterval,timeLeft=40;
let nameInput, gradeInput;

function normalize(str){
  return str.replace(/[ุฃุฅุขุง]/g,'ุง')
            .replace(/[ุฉู]/g,'ู')
            .replace(/\s+/g,'')
            .toLowerCase();
}

function startFromWelcome(){
  document.getElementById('welcomeBox').classList.add('hidden');
  document.getElementById('startBox').classList.remove('hidden');
}

function startQuiz(){
  nameInput=document.getElementById('nameInput').value.trim();
  gradeInput=document.getElementById('gradeInput').value;
  const error=document.getElementById('error');
  if(nameInput.split(' ').length<4 || !gradeInput){error.style.display='block';return;}
  error.style.display='none';
  if(localStorage.getItem('done_'+nameInput)){alert('ูุฐุง ุงูุงุณู ุงุณุชุฎุฏู ูุณุจููุงุ ูุง ููููู ุฅุนุงุฏุฉ ุงููุญุงููุฉ');return;}
  document.getElementById('startBox').classList.add('hidden');
  document.getElementById('quizBox').classList.remove('hidden');
  document.getElementById('q1').classList.remove('hidden');
  startTimer();
}

function startTimer(){
  timeLeft=40;
  timerInterval=setInterval(()=>{
    timeLeft--;
    document.getElementById('timer').innerText='ุงูููุช ุงููุชุจูู: '+timeLeft+' ุซุงููุฉ';
    if(timeLeft<=0){
      clearInterval(timerInterval);
      localStorage.setItem('done_'+nameInput,'1');
      alert('ุงูุชูู ุงูููุช! ูุง ููููู ุฅุนุงุฏุฉ ุงููุญุงููุฉ.');
      location.reload();
    }
  },1000);
}

function checkAnswer(num){
  const msg=document.getElementById('msg');
  msg.textContent='';
  let ans=document.getElementById('a'+num).value.trim();
  if(!ans){msg.textContent='ุงูุฑุฌุงุก ุฅุฏุฎุงู ุงูุฅุฌุงุจุฉ'; return;}
  let nAns=normalize(ans);
  let correct=false;

  if(num===1 && nAns.includes('ุงููุฑุงูุดุนุฑุงุก')) correct=true;

  if(num===2){
    const valid2 = ['ุงูุณุนูุฏูุฉ','ุงูุณุนูุฏูู','ุงูููููุฉุงูุณุนูุฏูุฉ','ุงูููููุฉุงูุนุฑุจููุงูุณุนูุฏูู','ุงูููููุฉุงูุนุฑุจูุฉุงูุณุนูุฏูู',
                    'ุงููููููุงูุณุนูุฏูุฉ','ุงููููููุงูุนุฑุจููุงูุณุนูุฏูู','ุงููููููุงูุนุฑุจูุฉุงูุณุนูุฏูู','ููููู','ุงูููููุฉ'];
    for(let v of valid2){
      if(nAns.includes(normalize(v))){correct=true; break;}
    }
  }

  if(num===3 && (nAns==='ูุณ'||nAns==='ูุงุณูู'||nAns==='ุณูุฑููุณ'||nAns==='ุณูุฑููุงุณูู')) correct=true;

  if(!correct){msg.textContent='ุงูุฅุฌุงุจุฉ ุบูุฑ ุตุญูุญุฉุ ุญุงูู ูุฑุฉ ุฃุฎุฑู';return;}
  document.getElementById('q'+num).classList.add('hidden');
  if(num<3) document.getElementById('q'+(num+1)).classList.remove('hidden');
}

function finishQuiz(){
  let ans=document.getElementById('a3').value.trim();
  let nAns=normalize(ans);
  const msg=document.getElementById('msg');
  msg.textContent='';
  if(!(nAns==='ูุณ'||nAns==='ูุงุณูู'||nAns==='ุณูุฑููุณ'||nAns==='ุณูุฑููุงุณูู')){msg.textContent='ุงูุฅุฌุงุจุฉ ุบูุฑ ุตุญูุญุฉุ ุญุงูู ูุฑุฉ ุฃุฎุฑู';return;}
  clearInterval(timerInterval);
  localStorage.setItem('done_'+nameInput,'1');
  document.getElementById('quizBox').classList.add('hidden');
  document.getElementById('finalMsg').innerText='ูุต ุงูุดุงุดุฉ ูุชุฏุฎู ุงูุณุญุจ';
  const cert=document.getElementById('certificate');
  document.getElementById('certName').innerText='ุงูุงุณู: '+nameInput;
  document.getElementById('certClass').innerText='ุงูุตู: '+gradeInput;
  document.getElementById('certDate').innerText='ุงูุชุงุฑูุฎ: '+new Date().toLocaleDateString('ar-EG');
  cert.classList.remove('hidden');
}
</script>

</body>
</html>
